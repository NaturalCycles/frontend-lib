import{d as k,p as d,v as H,x as B,q as E,o as g,c as h,j as n,t as f,a1 as v,a2 as w,e as C,F as O,C as Y,N as x,a as p,G as b,B as z}from"./chunks/framework.D_PpXas2.js";import{_ as M}from"./chunks/object.util.DwjELA91.js";import"./chunks/is.util.NvFMntWM.js";import"./chunks/types.C-9dMxxX.js";class S{constructor(a){this.containerWidth=-1,this.cfg={maxHeight:300,margin:8,...a},this.resizeObserver=new ResizeObserver(e=>this.update(e)),this.resizeObserver.observe(a.containerElement)}stop(){this.resizeObserver.disconnect()}update(a){const e=Math.floor(a[0].contentRect.width);e!==this.containerWidth&&(this.containerWidth=e,console.log(`resize ${e}`),this.doLayout(this.cfg.images),this.cfg.onChange(this.cfg.images))}doLayout(a){if(a.length===0)return;const{maxHeight:e}=this.cfg;let t=a.slice(0);e:for(;t.length>0;){let s,r;for(let m=1;m<=t.length;m++)if(s=t.slice(0,m),r=this.getHeigth(s),r<e){this.setHeight(s,r),t=t.slice(m);continue e}this.setHeight(s,Math.min(e,r));break}}getHeigth(a){const e=this.containerWidth-a.length*this.cfg.margin;let t=0;return a.forEach(s=>t+=s.aspectRatio),e/t}setHeight(a,e){a.forEach(t=>{t.fitWidth=Math.floor(e*t.aspectRatio),t.fitHeight=Math.floor(e)})}}const W={class:"app-content"},D={class:"label"},P={class:"label"},Q={key:0},V=["src"],$=k({__name:"FitImagesDemo",setup(c){const a=["a8ZYS21_Toc","rpxnS9CtEDw","Ck-qAr0qbAI","h5UOgcq1Dkw","Jwhzumwgq9Q","2aLB0aQI5v4","0Q_XPEm2oVQ","bz0H2d753_U","oSIl84tpYYY","cX0Yxw38cx8","Y6Oi_1aGKPg","AqGhEk1khbE","XDvvt_IEH_w","leSvrOiu-nE","lkeBDBTwjWQ","6tJ50mdoyY4","wqJW5B9Q05I","Q2xGYGSu0Qo","Ai-AnKx5bSM","O4TA_kXW9as","aV31XuctrM8","zwoYd0ZiBmc","vMGM9Y48eIY"],e=d(300),t=d(8),s=d([]),r=d();H(async()=>{const l={};await new Promise(i=>{a.forEach(o=>{const u=new Image;u.onload=()=>{const{width:y,height:_,src:I}=u;l[o]={src:I,aspectRatio:y/_},Object.keys(l).length===a.length&&i()},u.src=`https://source.unsplash.com/${o}`})}),s.value=a.map(i=>l[i]),m()}),B(()=>{var l;(l=r.value)==null||l.stop()}),E(()=>t.value+e.value,m);function m(){var i;const l=document.getElementById("imagesContainer");(i=r.value)==null||i.stop(),r.value=new S({containerElement:l,images:s.value,maxHeight:e.value,margin:t.value,onChange:o=>{s.value=M(o)}})}return(l,i)=>(g(),h("div",W,[n("p",null,[n("span",D,"maxHeight: "+f(e.value),1),v(n("input",{type:"range",min:"10",max:"400",step:"10","onUpdate:modelValue":i[0]||(i[0]=o=>e.value=o)},null,512),[[w,e.value]]),i[2]||(i[2]=n("br",null,null,-1)),n("span",P,"margin: "+f(t.value),1),v(n("input",{type:"range",min:"0",max:"20","onUpdate:modelValue":i[1]||(i[1]=o=>t.value=o)},null,512),[[w,t.value]]),i[3]||(i[3]=n("br",null,null,-1))]),s.value.length?C("",!0):(g(),h("p",Q,"Loading images...")),n("div",{id:"imagesContainer",style:x({margin:`-${t.value/2}px`})},[(g(!0),h(O,null,Y(s.value,o=>(g(),h("img",{style:x({width:`${o.fitWidth}px`,height:`${o.fitHeight}px`,margin:`${t.value/2}px`}),src:o.src,alt:"img"},null,12,V))),256))],4)]))}}),q={id:"image",tabindex:"-1"},F=JSON.parse('{"title":"Image","description":"","frontmatter":{},"headers":[],"relativePath":"image.md","filePath":"image.md"}'),G={name:"image.md"},R=Object.assign(G,{setup(c){return(a,e)=>{const t=z("Badge");return g(),h("div",null,[n("h1",q,[e[0]||(e[0]=p("Image ")),b(t,{text:"experimental",type:"warning"}),e[1]||(e[1]=p()),e[2]||(e[2]=n("a",{class:"header-anchor",href:"#image","aria-label":'Permalink to "Image <Badge text="experimental" type="warning"/>"'},"​",-1))]),e[3]||(e[3]=n("h2",{id:"fitimages",tabindex:"-1"},[p("fitImages "),n("a",{class:"header-anchor",href:"#fitimages","aria-label":'Permalink to "fitImages"'},"​")],-1)),e[4]||(e[4]=n("p",null,"Function to Layout images in a way that they fit the available space. Like Google Photos do.",-1)),e[5]||(e[5]=n("p",null,'It can probably be called "fixed height layout".',-1)),e[6]||(e[6]=n("p",null,"See the demos below. Try resizing the browser window or sliders to see the effect of it.",-1)),b($)])}}});export{F as __pageData,R as default};
